(this.webpackJsonpadminui=this.webpackJsonpadminui||[]).push([[0],{62:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(11),l=c.n(a),i=c(34),s=c(7),j=c(31),o=c.n(j),u=c(65),d=c(66),b=c(33),h=c(67),O=c(64),x=c(68),f=c(21),m=c(12),g=c(69),p=c(1);function v(e){var t=Object(n.useContext)(U),c=Object(n.useState)(e.details.name),r=Object(s.a)(c,2),a=r[0],l=r[1],i=Object(n.useState)(e.details.email),j=Object(s.a)(i,2),o=j[0],u=j[1],d=Object(n.useState)(e.details.role),b=Object(s.a)(d,2),h=b[0],x=b[1];return Object(p.jsxs)(m.a,Object(f.a)(Object(f.a)({animation:!1},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(m.a.Header,{closeButton:!0,children:Object(p.jsx)(m.a.Title,{id:"contained-modal-title-vcenter",children:"Edit User Details"})}),Object(p.jsx)(m.a.Body,{children:Object(p.jsxs)(g.a,{children:[Object(p.jsxs)(g.a.Group,{children:[Object(p.jsx)(g.a.Label,{children:"User Name"}),Object(p.jsx)(g.a.Control,{type:"text",value:a,onChange:function(e){l(e.target.value)}})]}),Object(p.jsxs)(g.a.Group,{children:[Object(p.jsx)(g.a.Label,{children:"User Email"}),Object(p.jsx)(g.a.Control,{type:"text",value:o,onChange:function(e){u(e.target.value)}})]}),Object(p.jsxs)(g.a.Group,{children:[Object(p.jsx)(g.a.Label,{children:"User Role"}),Object(p.jsx)(g.a.Control,{type:"text",value:h,onChange:function(e){x(e.target.value)}})]}),Object(p.jsx)(O.a,{variant:"primary",type:"submit",onClick:function(c){c.preventDefault(),t.updateuser({id:e.details.id,name:a,email:o,role:h}),e.onHide()},children:"Update"})]})}),Object(p.jsx)(m.a.Footer,{children:Object(p.jsx)(O.a,{onClick:e.onHide,children:"Close"})})]}))}var y=function(e){var t=e.user,c=e.setDeleteUser,r=e.delMultiple,a=e.isCheckedAll,l=Object(n.useState)(!1),i=Object(s.a)(l,2),j=i[0],o=i[1],u=Object(n.useState)(!1),d=Object(s.a)(u,2),b=d[0],h=d[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("tr",{style:{color:a||j?"#0275d8":"black"},children:[Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"checkbox",value:t.id,onChange:function(e){o(e.currentTarget.checked),r(e.currentTarget.checked,t.id)},checked:a||j})}),Object(p.jsx)("td",{children:t.name}),Object(p.jsx)("td",{children:t.email}),Object(p.jsx)("td",{children:t.role}),Object(p.jsxs)("td",{children:[Object(p.jsx)("i",{className:"far fa-edit",style:{marginRight:"10px"},onClick:function(){return h(!0)}}),Object(p.jsx)("i",{className:"fa fa-trash",onClick:function(){c(t.id)}})]})]}),Object(p.jsx)(v,{show:b,details:t,onHide:function(){return h(!1)}})]})};function C(e){var t=e.setCheck,c=e.checkAll;return Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:Object(p.jsx)("input",{type:"checkbox",onChange:function(e){c(e.currentTarget.checked)},checked:t})}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Role"}),Object(p.jsx)("th",{children:"Email"}),Object(p.jsx)("th",{children:"Actions"})]})})}var k=c(70);var S=function(e){var t=e.total,c=void 0===t?0:t,r=e.itemsPerPage,a=void 0===r?5:r,l=e.currentPage,i=void 0===l?1:l,j=e.onPageChange,o=Object(n.useState)(0),u=Object(s.a)(o,2),d=u[0],b=u[1];Object(n.useEffect)((function(){c>0&&a>0&&b(Math.ceil(c/a))}),[c,a]);var h=Object(n.useMemo)((function(){for(var e=[],t=function(t){e.push(Object(p.jsx)(k.a.Item,{active:t===i,onClick:function(){return j(t)},children:t},t))},c=1;c<=d;c++)t(c);return e}),[d,i,j]);return 0===d?null:Object(p.jsxs)(k.a,{size:"lg",children:[Object(p.jsx)(k.a.Prev,{onClick:function(){return j(i-1)},disabled:1===i}),h,Object(p.jsx)(k.a.Next,{onClick:function(){return j(i+1)},disabled:i===d})]})},A="delete_one",N="delete_multiple",w="delete_all",L="update_user",E="get_data";function P(e,t){switch(t.type){case A:return e.filter((function(e){return e.id!==t.id}));case L:return e.map((function(e){return e.id===t.filterArray.id&&(e.name=t.filterArray.name,e.email=t.filterArray.email,e.role=t.filterArray.role),e}));case E:return t.payload.users;case N:for(var c=function(c){e=e.filter((function(e){return e.id!==t.filterArray[c]}))},n=0;n<t.filterArray.length;n++)c(n);return e;case w:for(var r=function(c){e=e.filter((function(e){return e.id!==t.filterArray[c].id}))},a=0;a<t.filterArray.length;a++)r(a);return e;default:return e}}c(61);var U=r.a.createContext();var _=function(){Object(n.useEffect)((function(){o.a.get("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json").then((function(e){r({type:"get_data",payload:{users:e.data}})})).catch((function(e){f(!0)}))}),[]);var e=Object(n.useReducer)(P,[]),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),l=Object(s.a)(a,2),j=l[0],f=l[1],m=Object(n.useState)(0),g=Object(s.a)(m,2),v=g[0],k=g[1],A=Object(n.useState)(1),N=Object(s.a)(A,2),w=N[0],L=N[1],E=Object(n.useState)(""),_=Object(s.a)(E,2),R=_[0],z=_[1],D=Object(n.useState)([]),T=Object(s.a)(D,2),M=T[0],B=T[1],F=Object(n.useState)(!1),H=Object(s.a)(F,2),I=H[0],G=H[1],J=Object(n.useMemo)((function(){var e=c;return k(e.length),R&&(e=e.filter((function(e){return e.name.toLowerCase().includes(R.toLowerCase())||e.email.toLowerCase().includes(R.toLowerCase())||e.role.toLowerCase().includes(R.toLowerCase())})),k(e.length)),e.slice(10*(w-1),10*(w-1)+10)}),[c,w,R]);c.length>0&&0===J.length&&w>1&&L(w-1);var Y=function(e){r({type:"update_user",filterArray:e})};return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"text-center car",children:"ADMIN TABLE"}),j?Object(p.jsx)("h1",{children:"CANNOT LOAD USERS"}):null,Object(p.jsxs)(u.a,{size:"lg",children:[c.length>0?Object(p.jsxs)(d.a,{className:"row",children:[Object(p.jsx)(b.a,{className:"form-group col-lg-4",children:Object(p.jsx)(h.a,{className:"mb-1",size:"lg",children:Object(p.jsx)("input",{type:"text",className:"form-control",style:{width:"100%"},placeholder:"Search By Name,Email,Role",value:R,onChange:function(e){return z(e.target.value)}})})}),Object(p.jsx)(b.a,{className:"col-lg-6",children:Object(p.jsx)(O.a,{size:"lg",className:"car",onClick:function(){z("")},children:"Clear Search"})})]}):null,Object(p.jsxs)(d.a,{className:"row h-70",children:[Object(p.jsxs)(x.a,{responsive:!0,hover:!0,size:"lg",children:[Object(p.jsx)(C,{setCheck:I,checkAll:function(e){G(e)}}),0===c.length?null:J.length>0?Object(p.jsx)("tbody",{children:Object(p.jsx)(p.Fragment,{children:J.map((function(e){return Object(p.jsx)(U.Provider,{value:{updateuser:Y},children:Object(p.jsx)(y,{user:e,setDeleteUser:function(e){r({type:"delete_one",id:e}),z("")},delMultiple:function(e,t){!function(e,t){if(e)B([].concat(Object(i.a)(M),[t]));else{var c=M.filter((function(e){return e!==t}));B(c)}}(e,t)},isCheckedAll:I},e.id)},e.id)}))})}):null]}),0===c.length?Object(p.jsx)("h1",{className:"text-center",children:"NO USERS TO DISPLAY"}):0===v?Object(p.jsxs)("h1",{className:"text-center",children:["NO RESULTS FOR '",R,"'"]}):null]}),Object(p.jsxs)(d.a,{children:[Object(p.jsx)(b.a,{lg:6,children:c.length>0&&v>0?Object(p.jsx)(O.a,{size:"lg",variant:"danger",onClick:function(){r(I?{type:"delete_all",filterArray:J}:{type:"delete_multiple",filterArray:M}),G(!1),z("")},children:"Delete Selected"}):null}),Object(p.jsx)(b.a,{lg:6,children:c.length>0&&v>0?Object(p.jsx)(S,{total:v,itemsPerPage:10,currentPage:w,onPageChange:function(e){return L(e)}}):null})]})]})]})};var R=function(){return Object(p.jsx)("div",{children:Object(p.jsx)(_,{})})};l.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(R,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.6bf1f55d.chunk.js.map