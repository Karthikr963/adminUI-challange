(this.webpackJsonpadminui=this.webpackJsonpadminui||[]).push([[0],{61:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(11),l=n.n(a),i=n(34),s=n(7),j=n(31),u=n.n(j),o=n(66),d=n(67),b=n(33),h=n(68),O=n(65),x=n(69),f=n(21),m=n(12),g=n(70),p=n(1);function v(e){var t=Object(c.useContext)(U),n=Object(c.useState)(e.details.name),r=Object(s.a)(n,2),a=r[0],l=r[1],i=Object(c.useState)(e.details.email),j=Object(s.a)(i,2),u=j[0],o=j[1],d=Object(c.useState)(e.details.role),b=Object(s.a)(d,2),h=b[0],x=b[1];return Object(p.jsxs)(m.a,Object(f.a)(Object(f.a)({animation:!1},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(m.a.Header,{closeButton:!0,children:Object(p.jsx)(m.a.Title,{id:"contained-modal-title-vcenter",children:"Edit User Details"})}),Object(p.jsx)(m.a.Body,{children:Object(p.jsxs)(g.a,{children:[Object(p.jsxs)(g.a.Group,{children:[Object(p.jsx)(g.a.Label,{children:"User Name"}),Object(p.jsx)(g.a.Control,{type:"text",value:a,onChange:function(e){l(e.target.value)}})]}),Object(p.jsxs)(g.a.Group,{children:[Object(p.jsx)(g.a.Label,{children:"User Email"}),Object(p.jsx)(g.a.Control,{type:"text",value:u,onChange:function(e){o(e.target.value)}})]}),Object(p.jsxs)(g.a.Group,{children:[Object(p.jsx)(g.a.Label,{children:"User Role"}),Object(p.jsx)(g.a.Control,{type:"text",value:h,onChange:function(e){x(e.target.value)}})]}),Object(p.jsx)(O.a,{variant:"primary",type:"submit",onClick:function(n){n.preventDefault(),t.updateuser({id:e.details.id,name:a,email:u,role:h}),e.onHide()},children:"Update"})]})}),Object(p.jsx)(m.a.Footer,{children:Object(p.jsx)(O.a,{onClick:e.onHide,children:"Close"})})]}))}var C=function(e){var t=e.user,n=e.setDeleteUser,r=e.delMultiple,a=e.isCheckedAll,l=Object(c.useState)(!1),i=Object(s.a)(l,2),j=i[0],u=i[1],o=Object(c.useState)(!1),d=Object(s.a)(o,2),b=d[0],h=d[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("tr",{style:{color:a||j?"#0275d8":"black"},children:[Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"checkbox",value:t.id,onChange:function(e){u(e.currentTarget.checked),r(e.currentTarget.checked,t.id)},checked:a||j})}),Object(p.jsx)("td",{children:t.name}),Object(p.jsx)("td",{children:t.email}),Object(p.jsx)("td",{children:t.role}),Object(p.jsxs)("td",{children:[Object(p.jsx)("i",{className:"far fa-edit",style:{marginRight:"10px"},onClick:function(){return h(!0)}}),Object(p.jsx)("i",{className:"fa fa-trash",onClick:function(){n(t.id)}})]})]}),Object(p.jsx)(v,{show:b,details:t,onHide:function(){return h(!1)}})]})};function y(e){var t=e.setCheck,n=e.checkAll;return Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:Object(p.jsx)("input",{type:"checkbox",onChange:function(e){n(e.currentTarget.checked)},checked:t})}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Email"}),Object(p.jsx)("th",{children:"Role"}),Object(p.jsx)("th",{children:"Actions"})]})})}var k=n(71);n(61);var S=function(e){var t=e.total,n=void 0===t?0:t,r=e.itemsPerPage,a=void 0===r?5:r,l=e.currentPage,i=void 0===l?1:l,j=e.onPageChange,u=Object(c.useState)(0),o=Object(s.a)(u,2),d=o[0],b=o[1];Object(c.useEffect)((function(){n>0&&a>0&&b(Math.ceil(n/a))}),[n,a]);var h=Object(c.useMemo)((function(){for(var e=[],t=function(t){e.push(Object(p.jsx)(k.a.Item,{active:t===i,onClick:function(){return j(t)},children:t},t))},n=1;n<=d;n++)t(n);return e}),[d,i,j]);return 0===d?null:Object(p.jsxs)(k.a,{size:"lg",className:"pagination-new",children:[Object(p.jsx)(k.a.Item,{onClick:function(){return j(1)},disabled:1===i,children:"<<"}),Object(p.jsx)(k.a.Prev,{onClick:function(){return j(i-1)},disabled:1===i}),h,Object(p.jsx)(k.a.Next,{onClick:function(){return j(i+1)},disabled:i===d}),Object(p.jsx)(k.a.Item,{onClick:function(){return j(d)},disabled:i===d,children:">>"})]})},A="delete_one",N="delete_multiple",w="delete_all",L="update_user",P="get_data";function E(e,t){switch(t.type){case A:return e.filter((function(e){return e.id!==t.id}));case L:return e.map((function(e){return e.id===t.filterArray.id&&(e.name=t.filterArray.name,e.email=t.filterArray.email,e.role=t.filterArray.role),e}));case P:return t.payload.users;case N:for(var n=function(n){e=e.filter((function(e){return e.id!==t.filterArray[n]}))},c=0;c<t.filterArray.length;c++)n(c);return e;case w:for(var r=function(n){e=e.filter((function(e){return e.id!==t.filterArray[n].id}))},a=0;a<t.filterArray.length;a++)r(a);return e;default:return e}}n(62);var U=r.a.createContext();var _=function(){Object(c.useEffect)((function(){u.a.get("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json").then((function(e){r({type:"get_data",payload:{users:e.data}})})).catch((function(e){f(!0)}))}),[]);var e=Object(c.useReducer)(E,[]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),l=Object(s.a)(a,2),j=l[0],f=l[1],m=Object(c.useState)(0),g=Object(s.a)(m,2),v=g[0],k=g[1],A=Object(c.useState)(1),N=Object(s.a)(A,2),w=N[0],L=N[1],P=Object(c.useState)(""),_=Object(s.a)(P,2),D=_[0],R=_[1],T=Object(c.useState)([]),z=Object(s.a)(T,2),M=z[0],I=z[1],B=Object(c.useState)(!1),F=Object(s.a)(B,2),H=F[0],G=F[1],J=Object(c.useMemo)((function(){var e=n;return k(e.length),D&&(e=e.filter((function(e){return e.name.toLowerCase().includes(D.toLowerCase())||e.email.toLowerCase().includes(D.toLowerCase())||e.role.toLowerCase().includes(D.toLowerCase())})),k(e.length)),e.slice(10*(w-1),10*(w-1)+10)}),[n,w,D]);n.length>0&&0===J.length&&w>1&&L(w-1);var Y=function(e){r({type:"update_user",filterArray:e})};return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"text-center car",children:"ADMIN TABLE"}),j?Object(p.jsx)("h1",{children:"CANNOT LOAD USERS"}):null,Object(p.jsxs)(o.a,{size:"lg",children:[n.length>0?Object(p.jsxs)(d.a,{children:[Object(p.jsx)(b.a,{className:"form-group",lg:10,md:8,sm:12,children:Object(p.jsx)(h.a,{size:"lg",className:".input-new",children:Object(p.jsx)("input",{type:"text",className:"form-control .input-new",style:{width:"100%"},placeholder:"Search by name,email or role",value:D,onChange:function(e){return R(e.target.value)}})})}),Object(p.jsx)(b.a,{lg:2,md:4,children:Object(p.jsx)(O.a,{className:"btn-lg btn-new",onClick:function(){R("")},children:"Clear Search"})})]}):null,Object(p.jsxs)(d.a,{children:[Object(p.jsxs)(x.a,{responsive:!0,hover:!0,size:"lg",children:[Object(p.jsx)(y,{setCheck:H,checkAll:function(e){G(e)}}),0===n.length?null:J.length>0?Object(p.jsx)("tbody",{children:Object(p.jsx)(p.Fragment,{children:J.map((function(e){return Object(p.jsx)(U.Provider,{value:{updateuser:Y},children:Object(p.jsx)(C,{user:e,setDeleteUser:function(e){r({type:"delete_one",id:e}),R("")},delMultiple:function(e,t){!function(e,t){if(e)I([].concat(Object(i.a)(M),[t]));else{var n=M.filter((function(e){return e!==t}));I(n)}}(e,t)},isCheckedAll:H},e.id)},e.id)}))})}):null]}),0===n.length&&!1===j?Object(p.jsx)("h1",{className:"text-center",children:"NO USERS TO DISPLAY"}):0===v&&!1===j?Object(p.jsxs)("h1",{className:"text-center",children:["NO RESULTS FOR '",D,"'"]}):null]}),Object(p.jsxs)(d.a,{children:[Object(p.jsx)(b.a,{lg:6,md:2,sm:0,children:n.length>0&&v>0?Object(p.jsx)(O.a,{variant:"danger",size:"lg",className:"btn-new",onClick:function(){r(H?{type:"delete_all",filterArray:J}:{type:"delete_multiple",filterArray:M}),G(!1),R("")},children:"Delete Selected"}):null}),Object(p.jsx)(b.a,{lg:6,md:3,sm:10,children:n.length>0&&v>0?Object(p.jsx)(S,{total:v,itemsPerPage:10,currentPage:w,onPageChange:function(e){return L(e)}}):null})]})]})]})};var D=function(){return Object(p.jsx)("div",{children:Object(p.jsx)(_,{})})};l.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.3a3308d4.chunk.js.map